const viewPhnNumber=document.getElementById("viewPhnNumber");function openmodalimg(e){document.getElementById(e).style.display="flex"}function closemodalimg(e){document.getElementById(e).style.display="none"}function openmodal(){document.getElementById("viewPhn").style.display="flex"}function closeViewPhn(){document.getElementById("viewPhn").style.display="none"}function showContactForm(){document.getElementById("contactForm").style.display="block",document.getElementById("div-text-info").style.display="none"}viewPhnNumber.addEventListener("click",()=>{openmodal()});const getBackForm=document.getElementById("getBackForm");getBackForm.addEventListener("click",()=>{document.getElementById("contactForm").style.display="none",document.getElementById("div-text-info").style.display="block"}),document.getElementById("contactOwnerForm").addEventListener("submit",function(e){alert("Form submitted. The owner will contact you soon."),closeViewPhn()}),document.getElementById("payBtn").onclick=async function(){try{document.getElementById("payBtn").innerHTML=`<div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>`;let e=await fetch("/api/razorpay/createOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:30,currency:"INR",receipt:"receipt_id_1"})}),n=await e.json(),t={key:"rzp_test_SLeOOqQEvpGxpv",amount:n.amount,currency:n.currency,name:"RentEase - YashDeV",description:"Payment for accessing phone number",order_id:n.id,handler:async function(e){try{let t=await fetch("/api/razorpay/verifyPayment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:n.id,payment_id:e.razorpay_payment_id,signature:e.razorpay_signature})}),a=await t.json();if(a.success){document.getElementById("originalPhnNumber").innerHTML=`
                        <div class="spinner-border" role="status">
                        <span class="sr-only">Loading...</span>
                      </div>
                      <span>Revealing number...</span>
                      `,document.getElementById("viewPhnNumber").style.display="none",closeViewPhn(),document.getElementById("originalPhnNumber").classList.remove("blur");let o=await fetch("/get-phn-number"),i=await o.json();document.getElementById("originalPhnNumber").innerHTML=i;let r=await fetch("/got-number-onmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({originalMobileNumber:i})}),l=await r.json();l.success?console.log("Sent to email"):alert("Unable to send email")}else alert("Payment verification failed")}catch(s){console.error("Error during payment verification or email sending:",s),alert("An error occurred during payment processing or email sending")}},theme:{color:"blue"}},a=new Razorpay(t);a.open(),document.getElementById("payBtn").innerHTML="Pay only ₹30"}catch(o){console.error("Error creating order:",o),document.getElementById("payBtn").innerHTML="Pay only ₹30",alert("An error occurred while creating the order")}};let imagesLoadedCount=0;const totalImagess=document.querySelectorAll(".property-images img").length,propertyImagesContainer=document.getElementById("propertyImages"),loadingSpinner=document.getElementById("loadingSpinner"),totalImages=totalImagess/2;function imageLoaded(){++imagesLoadedCount===totalImages&&(loadingSpinner.style.display="none",propertyImagesContainer.style.display="flex",propertyImagesContainer.style.opacity="1")}console.log(totalImages),propertyImagesContainer.style.display="none",document.addEventListener("DOMContentLoaded",()=>{0===totalImages&&(loadingSpinner.style.display="none")});